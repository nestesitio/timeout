!function(){function t(){for(var t=this;-1===t.className.indexOf("nav-menu");)"li"===t.tagName.toLowerCase()&&(-1!==t.className.indexOf("focus")?t.className=t.className.replace(" focus",""):t.className+=" focus"),t=t.parentElement}var e,i,n,s,o,a,r;if(e=document.getElementById("site-navigation"),e&&(i=e.getElementsByClassName("menu-toggle-btn")[0],"undefined"!=typeof i)){if(n=e.getElementsByTagName("ul")[0],"undefined"==typeof n)return void(i.style.display="none");for(n.setAttribute("aria-expanded","false"),-1===n.className.indexOf("nav-menu")&&(n.className+=" nav-menu"),i.onclick=function(){-1!==e.className.indexOf("toggled")?(e.className=e.className.replace(" toggled",""),i.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false")):(e.className+=" toggled",i.setAttribute("aria-expanded","true"),n.setAttribute("aria-expanded","true"))},s=n.getElementsByTagName("a"),o=n.getElementsByTagName("ul"),a=0,r=o.length;r>a;a++)o[a].parentNode.setAttribute("aria-haspopup","true");for(a=0,r=s.length;r>a;a++)s[a].addEventListener("focus",t,!0),s[a].addEventListener("blur",t,!0)}}(),function(){var t=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,e=navigator.userAgent.toLowerCase().indexOf("opera")>-1,i=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(t||e||i)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t=location.hash.substring(1),e;/^[A-z0-9_-]+$/.test(t)&&(e=document.getElementById(t),e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus()))},!1)}(),/*!
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.18
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 * @license
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
!function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function($){"use strict";function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=l),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=$.extend({},$.fn.swipe.defaults,t),this.each(function(){var i=$(this),n=i.data(O);n||(n=new e(this,t),i.data(O,n))})}function e(t,e){function i(t){if(!(lt()||$(t.target).closest(e.excludedElements,Xt).length>0)){var i=t.originalEvent?t.originalEvent:t;if(!i.pointerType||"mouse"!=i.pointerType||0!=e.fallbackToMouseEvents){var n,s=i.touches,o=s?s[0]:i;return Yt=y,s?_t=s.length:e.preventDefaultEvents!==!1&&t.preventDefault(),Lt=0,Ht=null,Bt=null,zt=null,Vt=0,Ft=0,qt=0,Ut=1,It=0,jt=vt(),rt(),ct(0,o),!s||_t===e.fingers||e.fingers===w||I()?($t=Dt(),2==_t&&(ct(1,s[1]),Ft=qt=bt(Qt[0].start,Qt[1].start)),(e.swipeStatus||e.pinchStatus)&&(n=N(i,Yt))):n=!1,n===!1?(Yt=E,N(i,Yt),n):(e.hold&&(ee=setTimeout($.proxy(function(){Xt.trigger("hold",[i.target]),e.hold&&(n=e.hold.call(Xt,i,i.target))},this),e.longTapThreshold)),ht(!0),null)}}}function C(t){var i=t.originalEvent?t.originalEvent:t;if(Yt!==x&&Yt!==E&&!ut()){var n,s=i.touches,o=s?s[0]:i,a=pt(o);if(Gt=Dt(),s&&(_t=s.length),e.hold&&clearTimeout(ee),Yt=T,2==_t&&(0==Ft?(ct(1,s[1]),Ft=qt=bt(Qt[0].start,Qt[1].start)):(pt(s[1]),qt=bt(Qt[0].end,Qt[1].end),zt=Tt(Qt[0].end,Qt[1].end)),Ut=yt(Ft,qt),It=Math.abs(Ft-qt)),_t===e.fingers||e.fingers===w||!s||I()){if(Ht=St(a.start,a.end),Bt=St(a.last,a.end),q(t,Bt),Lt=xt(a.start,a.end),Vt=wt(),dt(Ht,Lt),n=N(i,Yt),!e.triggerOnTouchEnd||e.triggerOnTouchLeave){var r=!0;if(e.triggerOnTouchLeave){var u=Mt(this);r=Ot(a.end,u)}!e.triggerOnTouchEnd&&r?Yt=P(T):e.triggerOnTouchLeave&&!r&&(Yt=P(x)),Yt!=E&&Yt!=x||N(i,Yt)}}else Yt=E,N(i,Yt);n===!1&&(Yt=E,N(i,Yt))}}function R(t){var i=t.originalEvent?t.originalEvent:t,n=i.touches;if(n){if(n.length&&!ut())return at(i),!0;if(n.length&&ut())return!0}return ut()&&(_t=Jt),Gt=Dt(),Vt=wt(),B()||!H()?(Yt=E,N(i,Yt)):e.triggerOnTouchEnd||e.triggerOnTouchEnd===!1&&Yt===T?(e.preventDefaultEvents!==!1&&t.preventDefault(),Yt=x,N(i,Yt)):!e.triggerOnTouchEnd&&G()?(Yt=x,L(i,Yt,f)):Yt===T&&(Yt=E,N(i,Yt)),ht(!1),null}function A(){_t=0,Gt=0,$t=0,Ft=0,qt=0,Ut=1,rt(),ht(!1)}function W(t){var i=t.originalEvent?t.originalEvent:t;e.triggerOnTouchLeave&&(Yt=P(x),N(i,Yt))}function k(){Xt.unbind(At,i),Xt.unbind(Nt,A),Xt.unbind(Wt,C),Xt.unbind(kt,R),Pt&&Xt.unbind(Pt,W),ht(!1)}function P(t){var i=t,n=F(),s=H(),o=B();return!n||o?i=E:!s||t!=T||e.triggerOnTouchEnd&&!e.triggerOnTouchLeave?!s&&t==x&&e.triggerOnTouchLeave&&(i=E):i=x,i}function N(t,e){var i,n=t.touches;return(Y()||X())&&(i=L(t,e,c)),(z()||I())&&i!==!1&&(i=L(t,e,p)),st()&&i!==!1?i=L(t,e,d):ot()&&i!==!1?i=L(t,e,g):nt()&&i!==!1&&(i=L(t,e,f)),e===E&&A(t),e===x&&(n?n.length||A(t):A(t)),i}function L(t,i,l){var h;if(l==c){if(Xt.trigger("swipeStatus",[i,Ht||null,Lt||0,Vt||0,_t,Qt,Bt]),e.swipeStatus&&(h=e.swipeStatus.call(Xt,t,i,Ht||null,Lt||0,Vt||0,_t,Qt,Bt),h===!1))return!1;if(i==x&&j()){if(clearTimeout(te),clearTimeout(ee),Xt.trigger("swipe",[Ht,Lt,Vt,_t,Qt,Bt]),e.swipe&&(h=e.swipe.call(Xt,t,Ht,Lt,Vt,_t,Qt,Bt),h===!1))return!1;switch(Ht){case n:Xt.trigger("swipeLeft",[Ht,Lt,Vt,_t,Qt,Bt]),e.swipeLeft&&(h=e.swipeLeft.call(Xt,t,Ht,Lt,Vt,_t,Qt,Bt));break;case s:Xt.trigger("swipeRight",[Ht,Lt,Vt,_t,Qt,Bt]),e.swipeRight&&(h=e.swipeRight.call(Xt,t,Ht,Lt,Vt,_t,Qt,Bt));break;case o:Xt.trigger("swipeUp",[Ht,Lt,Vt,_t,Qt,Bt]),e.swipeUp&&(h=e.swipeUp.call(Xt,t,Ht,Lt,Vt,_t,Qt,Bt));break;case a:Xt.trigger("swipeDown",[Ht,Lt,Vt,_t,Qt,Bt]),e.swipeDown&&(h=e.swipeDown.call(Xt,t,Ht,Lt,Vt,_t,Qt,Bt))}}}if(l==p){if(Xt.trigger("pinchStatus",[i,zt||null,It||0,Vt||0,_t,Ut,Qt]),e.pinchStatus&&(h=e.pinchStatus.call(Xt,t,i,zt||null,It||0,Vt||0,_t,Ut,Qt),h===!1))return!1;if(i==x&&U())switch(zt){case r:Xt.trigger("pinchIn",[zt||null,It||0,Vt||0,_t,Ut,Qt]),e.pinchIn&&(h=e.pinchIn.call(Xt,t,zt||null,It||0,Vt||0,_t,Ut,Qt));break;case u:Xt.trigger("pinchOut",[zt||null,It||0,Vt||0,_t,Ut,Qt]),e.pinchOut&&(h=e.pinchOut.call(Xt,t,zt||null,It||0,Vt||0,_t,Ut,Qt))}}return l==f?i!==E&&i!==x||(clearTimeout(te),clearTimeout(ee),Z()&&!tt()?(Kt=Dt(),te=setTimeout($.proxy(function(){Kt=null,Xt.trigger("tap",[t.target]),e.tap&&(h=e.tap.call(Xt,t,t.target))},this),e.doubleTapThreshold)):(Kt=null,Xt.trigger("tap",[t.target]),e.tap&&(h=e.tap.call(Xt,t,t.target)))):l==d?i!==E&&i!==x||(clearTimeout(te),clearTimeout(ee),Kt=null,Xt.trigger("doubletap",[t.target]),e.doubleTap&&(h=e.doubleTap.call(Xt,t,t.target))):l==g&&(i!==E&&i!==x||(clearTimeout(te),Kt=null,Xt.trigger("longtap",[t.target]),e.longTap&&(h=e.longTap.call(Xt,t,t.target)))),h}function H(){var t=!0;return null!==e.threshold&&(t=Lt>=e.threshold),t}function B(){var t=!1;return null!==e.cancelThreshold&&null!==Ht&&(t=gt(Ht)-Lt>=e.cancelThreshold),t}function V(){return null!==e.pinchThreshold?It>=e.pinchThreshold:!0}function F(){var t;return t=e.maxTimeThreshold?!(Vt>=e.maxTimeThreshold):!0}function q(t,i){if(e.preventDefaultEvents!==!1)if(e.allowPageScroll===l)t.preventDefault();else{var r=e.allowPageScroll===h;switch(i){case n:(e.swipeLeft&&r||!r&&e.allowPageScroll!=v)&&t.preventDefault();break;case s:(e.swipeRight&&r||!r&&e.allowPageScroll!=v)&&t.preventDefault();break;case o:(e.swipeUp&&r||!r&&e.allowPageScroll!=m)&&t.preventDefault();break;case a:(e.swipeDown&&r||!r&&e.allowPageScroll!=m)&&t.preventDefault();break;case l:}}}function U(){var t=_(),e=Q(),i=V();return t&&e&&i}function I(){return!!(e.pinchStatus||e.pinchIn||e.pinchOut)}function z(){return!(!U()||!I())}function j(){var t=F(),e=H(),i=_(),n=Q(),s=B(),o=!s&&n&&i&&e&&t;return o}function X(){return!!(e.swipe||e.swipeStatus||e.swipeLeft||e.swipeRight||e.swipeUp||e.swipeDown)}function Y(){return!(!j()||!X())}function _(){return _t===e.fingers||e.fingers===w||!S}function Q(){return 0!==Qt[0].end.x}function G(){return!!e.tap}function Z(){return!!e.doubleTap}function J(){return!!e.longTap}function K(){if(null==Kt)return!1;var t=Dt();return Z()&&t-Kt<=e.doubleTapThreshold}function tt(){return K()}function et(){return(1===_t||!S)&&(isNaN(Lt)||Lt<e.threshold)}function it(){return Vt>e.longTapThreshold&&b>Lt}function nt(){return!(!et()||!G())}function st(){return!(!K()||!Z())}function ot(){return!(!it()||!J())}function at(t){Zt=Dt(),Jt=t.touches.length+1}function rt(){Zt=0,Jt=0}function ut(){var t=!1;if(Zt){var i=Dt()-Zt;i<=e.fingerReleaseThreshold&&(t=!0)}return t}function lt(){return!(Xt.data(O+"_intouch")!==!0)}function ht(t){Xt&&(t===!0?(Xt.bind(Wt,C),Xt.bind(kt,R),Pt&&Xt.bind(Pt,W)):(Xt.unbind(Wt,C,!1),Xt.unbind(kt,R,!1),Pt&&Xt.unbind(Pt,W,!1)),Xt.data(O+"_intouch",t===!0))}function ct(t,e){var i={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return i.start.x=i.last.x=i.end.x=e.pageX||e.clientX,i.start.y=i.last.y=i.end.y=e.pageY||e.clientY,Qt[t]=i,i}function pt(t){var e=void 0!==t.identifier?t.identifier:0,i=ft(e);return null===i&&(i=ct(e,t)),i.last.x=i.end.x,i.last.y=i.end.y,i.end.x=t.pageX||t.clientX,i.end.y=t.pageY||t.clientY,i}function ft(t){return Qt[t]||null}function dt(t,e){t!=l&&(e=Math.max(e,gt(t)),jt[t].distance=e)}function gt(t){return jt[t]?jt[t].distance:void 0}function vt(){var t={};return t[n]=mt(n),t[s]=mt(s),t[o]=mt(o),t[a]=mt(a),t}function mt(t){return{direction:t,distance:0}}function wt(){return Gt-$t}function bt(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+n*n))}function yt(t,e){var i=e/t*1;return i.toFixed(2)}function Tt(){return 1>Ut?u:r}function xt(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function Et(t,e){var i=t.x-e.x,n=e.y-t.y,s=Math.atan2(n,i),o=Math.round(180*s/Math.PI);return 0>o&&(o=360-Math.abs(o)),o}function St(t,e){if(Ct(t,e))return l;var i=Et(t,e);return 45>=i&&i>=0?n:360>=i&&i>=315?n:i>=135&&225>=i?s:i>45&&135>i?a:o}function Dt(){var t=new Date;return t.getTime()}function Mt(t){t=$(t);var e=t.offset(),i={left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()};return i}function Ot(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}function Ct(t,e){return t.x==e.x&&t.y==e.y}var e=$.extend({},e),Rt=S||M||!e.fallbackToMouseEvents,At=Rt?M?D?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Wt=Rt?M?D?"MSPointerMove":"pointermove":"touchmove":"mousemove",kt=Rt?M?D?"MSPointerUp":"pointerup":"touchend":"mouseup",Pt=Rt?M?"mouseleave":null:"mouseleave",Nt=M?D?"MSPointerCancel":"pointercancel":"touchcancel",Lt=0,Ht=null,Bt=null,Vt=0,Ft=0,qt=0,Ut=1,It=0,zt=0,jt=null,Xt=$(t),Yt="start",_t=0,Qt={},$t=0,Gt=0,Zt=0,Jt=0,Kt=0,te=null,ee=null;try{Xt.bind(At,i),Xt.bind(Nt,A)}catch(ie){$.error("events not supported "+At+","+Nt+" on jQuery.swipe")}this.enable=function(){return this.disable(),Xt.bind(At,i),Xt.bind(Nt,A),Xt},this.disable=function(){return k(),Xt},this.destroy=function(){k(),Xt.data(O,null),Xt=null},this.option=function(t,i){if("object"==typeof t)e=$.extend(e,t);else if(void 0!==e[t]){if(void 0===i)return e[t];e[t]=i}else{if(!t)return e;$.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var i="1.6.18",n="left",s="right",o="up",a="down",r="in",u="out",l="none",h="auto",c="swipe",p="pinch",f="tap",d="doubletap",g="longtap",v="horizontal",m="vertical",w="all",b=10,y="start",T="move",x="end",E="cancel",S="ontouchstart"in window,D=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!S,M=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!S,O="TouchSwipe",C={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};$.fn.swipe=function(e){var i=$(this),n=i.data(O);if(n&&"string"==typeof e){if(n[e])return n[e].apply(n,Array.prototype.slice.call(arguments,1));$.error("Method "+e+" does not exist on jQuery.swipe")}else if(n&&"object"==typeof e)n.option.apply(n,arguments);else if(!(n||"object"!=typeof e&&e))return t.apply(this,arguments);return i},$.fn.swipe.version=i,$.fn.swipe.defaults=C,$.fn.swipe.phases={PHASE_START:y,PHASE_MOVE:T,PHASE_END:x,PHASE_CANCEL:E},$.fn.swipe.directions={LEFT:n,RIGHT:s,UP:o,DOWN:a,IN:r,OUT:u},$.fn.swipe.pageScroll={NONE:l,HORIZONTAL:v,VERTICAL:m,AUTO:h},$.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:w}}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports.Dragdealer=e():t.Dragdealer=e()}(this,function(){function t(t){var e="Webkit Moz ms O".split(" "),i=document.documentElement.style;if(void 0!==i[t])return t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var n=0;n<e.length;n++)if(void 0!==i[e[n]+t])return e[n]+t}function e(t){h.backfaceVisibility&&h.perspective&&(t.style[h.perspective]="1000px",t.style[h.backfaceVisibility]="hidden")}var i=function(t,e){this.options=this.applyDefaults(e||{}),this.bindMethods(),this.wrapper=this.getWrapperElement(t),this.wrapper&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners()))};i.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle",css3:!0,activeClass:"active",tapping:!0},init:function(){this.options.css3&&e(this.handle),this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.dragStartPosition={x:0,y:0},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(t){for(var e in this.defaults)t.hasOwnProperty(e)||(t[e]=this.defaults[e]);return t},getWrapperElement:function(t){return"string"==typeof t?document.getElementById(t):t},getHandleElement:function(t,e){var i,n,s;if(t.getElementsByClassName){if(i=t.getElementsByClassName(e),i.length>0)return i[0]}else for(n=new RegExp("(^|\\s)"+e+"(\\s|$)"),i=t.getElementsByTagName("*"),s=0;s<i.length;s++)if(n.test(i[s].className))return i[s]},calculateStepRatios:function(){var t=[];if(this.options.steps>=1)for(var e=0;e<=this.options.steps-1;e++)this.options.steps>1?t[e]=e/(this.options.steps-1):t[e]=0;return t},setWrapperOffset:function(){this.offset.wrapper=l.get(this.wrapper)},calculateBounds:function(){var t={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return t.availWidth=t.right-t.left-this.handle.offsetWidth,t.availHeight=t.bottom-t.top-this.handle.offsetHeight,t},calculateValuePrecision:function(){var t=this.options.xPrecision||Math.abs(this.bounds.availWidth),e=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[t?1/t:0,e?1/e:0]},bindMethods:function(){"function"==typeof this.options.customRequestAnimationFrame?this.requestAnimationFrame=n(this.options.customRequestAnimationFrame,window):this.requestAnimationFrame=n(p,window),"function"==typeof this.options.customCancelAnimationFrame?this.cancelAnimationFrame=n(this.options.customCancelAnimationFrame,window):this.cancelAnimationFrame=n(f,window),this.animateWithRequestAnimationFrame=n(this.animateWithRequestAnimationFrame,this),this.animate=n(this.animate,this),this.onHandleMouseDown=n(this.onHandleMouseDown,this),this.onHandleTouchStart=n(this.onHandleTouchStart,this),this.onDocumentMouseMove=n(this.onDocumentMouseMove,this),this.onWrapperTouchMove=n(this.onWrapperTouchMove,this),this.onWrapperMouseDown=n(this.onWrapperMouseDown,this),this.onWrapperTouchStart=n(this.onWrapperTouchStart,this),this.onDocumentMouseUp=n(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=n(this.onDocumentTouchEnd,this),this.onHandleClick=n(this.onHandleClick,this),this.onWindowResize=n(this.onWindowResize,this)},bindEventListeners:function(){s(this.handle,"mousedown",this.onHandleMouseDown),s(this.handle,"touchstart",this.onHandleTouchStart),s(document,"mousemove",this.onDocumentMouseMove),s(this.wrapper,"touchmove",this.onWrapperTouchMove),s(this.wrapper,"mousedown",this.onWrapperMouseDown),s(this.wrapper,"touchstart",this.onWrapperTouchStart),s(document,"mouseup",this.onDocumentMouseUp),s(document,"touchend",this.onDocumentTouchEnd),s(this.handle,"click",this.onHandleClick),s(window,"resize",this.onWindowResize),this.animate(!1,!0),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},unbindEventListeners:function(){o(this.handle,"mousedown",this.onHandleMouseDown),o(this.handle,"touchstart",this.onHandleTouchStart),o(document,"mousemove",this.onDocumentMouseMove),o(this.wrapper,"touchmove",this.onWrapperTouchMove),o(this.wrapper,"mousedown",this.onWrapperMouseDown),o(this.wrapper,"touchstart",this.onWrapperTouchStart),o(document,"mouseup",this.onDocumentMouseUp),o(document,"touchend",this.onDocumentTouchEnd),o(this.handle,"click",this.onHandleClick),o(window,"resize",this.onWindowResize),this.cancelAnimationFrame(this.interval)},onHandleMouseDown:function(t){u.refresh(t),a(t),r(t),this.activity=!1,this.startDrag()},onHandleTouchStart:function(t){u.refresh(t),r(t),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(t){t.clientX-this.dragStartPosition.x===0&&t.clientY-this.dragStartPosition.y===0||(u.refresh(t),this.dragging&&(this.activity=!0,a(t)))},onWrapperTouchMove:function(t){return u.refresh(t),!this.activity&&this.draggingOnDisabledAxis()?void(this.dragging&&this.stopDrag()):(a(t),void(this.activity=!0))},onWrapperMouseDown:function(t){u.refresh(t),a(t),this.startTap()},onWrapperTouchStart:function(t){u.refresh(t),a(t),this.startTap()},onDocumentMouseUp:function(t){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(t){this.stopDrag(),this.stopTap()},onHandleClick:function(t){this.activity&&(a(t),r(t))},onWindowResize:function(t){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getStepWidth:function(){return Math.abs(this.bounds.availWidth/this.options.steps)},getValue:function(){return this.value.target},setStep:function(t,e,i){this.setValue(this.options.steps&&t>1?(t-1)/(this.options.steps-1):0,this.options.steps&&e>1?(e-1)/(this.options.steps-1):0,i)},setValue:function(t,e,i){this.setTargetValue([t,e||0]),i&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue())},startTap:function(){!this.disabled&&this.options.tapping&&(this.tapping=!0,this.setWrapperOffset(),this.setTargetValueByOffset([u.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,u.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.dragStartPosition={x:u.x,y:u.y},this.offset.mouse=[u.x-l.get(this.handle)[0],u.y-l.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=" "+this.options.activeClass),this.callDragStartCallback())},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var t=0===this.bounds.availWidth?0:(u.x-this.dragStartPosition.x)/this.bounds.availWidth,e=0===this.bounds.availHeight?0:(u.y-this.dragStartPosition.y)/this.bounds.availHeight,i=[t,e],n=this.groupClone(this.value.current);if(this.options.slide){var s=this.change;n[0]+=4*s[0],n[1]+=4*s[1]}this.setTargetValue(n),this.wrapper.className=this.wrapper.className.replace(" "+this.options.activeClass,""),this.callDragStopCallback(i)}},callAnimationCallback:function(){var t=this.value.current;this.options.snap&&this.options.steps>1&&(t=this.getClosestSteps(t)),this.groupCompare(t,this.value.prev)||("function"==typeof this.options.animationCallback&&this.options.animationCallback.call(this,t[0],t[1]),this.groupCopy(this.value.prev,t))},callTargetCallback:function(){"function"==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},callDragStartCallback:function(){"function"==typeof this.options.dragStartCallback&&this.options.dragStartCallback.call(this,this.value.target[0],this.value.target[1])},callDragStopCallback:function(t){"function"==typeof this.options.dragStopCallback&&this.options.dragStopCallback.call(this,this.value.target[0],this.value.target[1],t)},animateWithRequestAnimationFrame:function(t){t?(this.timeOffset=this.timeStamp?t-this.timeStamp:0,this.timeStamp=t):this.timeOffset=25,this.animate(),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},animate:function(t,e){if(!t||this.dragging){if(this.dragging){var i=this.groupClone(this.value.target),n=[u.x-this.offset.wrapper[0]-this.offset.mouse[0],u.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(n,this.options.loose),this.change=[this.value.target[0]-i[0],this.value.target[1]-i[1]]}(this.dragging||e)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||e)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var t=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return t[0]||t[1]?(Math.abs(t[0])>this.valuePrecision[0]||Math.abs(t[1])>this.valuePrecision[1]?(this.value.current[0]+=t[0]*Math.min(this.options.speed*this.timeOffset/25,1),this.value.current[1]+=t[1]*Math.min(this.options.speed*this.timeOffset/25,1)):this.groupCopy(this.value.current,this.value.target),!0):!1},updateOffsetFromValue:function(){this.options.snap?this.offset.current=this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.offset.current=this.getOffsetsByRatios(this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var t="";return this.options.css3&&h.transform?(this.options.horizontal&&(t+="translateX("+this.offset.current[0]+"px)"),this.options.vertical&&(t+=" translateY("+this.offset.current[1]+"px)"),void(this.handle.style[h.transform]=t)):(this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+"px"),void(this.options.vertical&&(this.handle.style.top=this.offset.current[1]+"px")))},setTargetValue:function(t,e){var i=e?this.getLooseValue(t):this.getProperValue(t);this.groupCopy(this.value.target,i),this.offset.target=this.getOffsetsByRatios(i),this.callTargetCallback()},setTargetValueByOffset:function(t,e){var i=this.getRatiosByOffsets(t),n=e?this.getLooseValue(i):this.getProperValue(i);this.groupCopy(this.value.target,n),this.offset.target=this.getOffsetsByRatios(n)},getLooseValue:function(t){var e=this.getProperValue(t);return[e[0]+(t[0]-e[0])/4,e[1]+(t[1]-e[1])/4]},getProperValue:function(t){var e=this.groupClone(t);return e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0),e[0]=Math.min(e[0],1),e[1]=Math.min(e[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&this.options.steps>1&&(e=this.getClosestSteps(e)),e},getRatiosByOffsets:function(t){return[this.getRatioByOffset(t[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(t[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(t,e,i){return e?(t-i)/e:0},getOffsetsByRatios:function(t){return[this.getOffsetByRatio(t[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(t[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(t,e,i){return Math.round(t*e)+i},getStepNumber:function(t){return this.getClosestStep(t)*(this.options.steps-1)+1},getClosestSteps:function(t){return[this.getClosestStep(t[0]),this.getClosestStep(t[1])]},getClosestStep:function(t){for(var e=0,i=1,n=0;n<=this.options.steps-1;n++)Math.abs(this.stepRatios[n]-t)<i&&(i=Math.abs(this.stepRatios[n]-t),e=n);return this.stepRatios[e]},groupCompare:function(t,e){return t[0]==e[0]&&t[1]==e[1]},groupCopy:function(t,e){t[0]=e[0],t[1]=e[1]},groupClone:function(t){return[t[0],t[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&u.xDiff>u.yDiff||!this.options.vertical&&u.yDiff>u.xDiff}};for(var n=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},o=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)},a=function(t){t||(t=window.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1},r=function(t){t||(t=window.event),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},u={x:0,y:0,xDiff:0,yDiff:0,refresh:function(t){t||(t=window.event),"mousemove"==t.type?this.set(t):t.touches&&this.set(t.touches[0])},set:function(t){var e=this.x,i=this.y;t.clientX||t.clientY?(this.x=t.clientX,this.y=t.clientY):(t.pageX||t.pageY)&&(this.x=t.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=t.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-e),this.yDiff=Math.abs(this.y-i)}},l={get:function(t){var e={left:0,top:0};return void 0!==t.getBoundingClientRect&&(e=t.getBoundingClientRect()),[e.left,e.top]}},h={transform:t("transform"),perspective:t("perspective"),backfaceVisibility:t("backfaceVisibility")},c=["webkit","moz"],p=window.requestAnimationFrame,f=window.cancelAnimationFrame,d=0;d<c.length&&!p;++d)p=window[c[d]+"RequestAnimationFrame"],f=window[c[d]+"CancelAnimationFrame"]||window[c[d]+"CancelRequestAnimationFrame"];return p||(p=function(t){return setTimeout(t,25)},f=clearTimeout),i});